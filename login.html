<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>로그인</title>
  </head>
  <body>
    <form>
      <main>
        <h2>로그인</h2>
        <div class="form-group">
          <label for="userid">아이디</label>
          <input type="text" maxlength="100" name="userid" id="userid" />
        </div>
        <div class="form-group">
          <label for="userpw">비밀번호</label>
          <input type="password" maxlength="20" name="userpw" id="userpw" />
        </div>
        <button id="loginBtn">로그인</button>
        <script>
          document
            .getElementById("loginBtn")
            .addEventListener("click", (event) => {
              event.preventDefault();

              const userid = document.getElementById("userid").value;
              const userpw = document.getElementById("userpw").value;

              fetch(`/login?userid=${userid}&userpw=${userpw}`)
                .then((res) => res.text())
                .then((data) => {
                  console.log("서버 응답:" + data);
                })
                .catch((err) => {
                  console.error("에러 발생!" + err);
                });
              window.location.href = `/login?userid=${userid}&userpw=${userpw}`;
            });
        </script>
      </main>
    </form>
  </body>
</html>
